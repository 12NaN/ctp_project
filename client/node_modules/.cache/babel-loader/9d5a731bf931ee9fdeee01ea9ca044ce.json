{"ast":null,"code":"// This service object was adapted from here: \n//  https://tylermcginnis.com/react-router-protected-routes-authentication/\n//\n// This version was modified to use real authentication implemented\n// in the backend api. It was also modified to return promises instead\n// of using callbacks `cb`.\nconst auth = {\n  isAuthenticated: false,\n\n  authenticate(email, password) {\n    return fetch('/api/auth/login', {\n      method: 'POST',\n      body: JSON.stringify({\n        email,\n        password\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(response => {\n      if (!response.ok) {\n        throw new Error('Login Failed');\n      }\n\n      return response.json();\n    }).then(body => {\n      this.isAuthenticated = true;\n      return body;\n    });\n  },\n\n  signout(cb) {\n    return fetch('/api/auth/logout', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(response => {\n      if (!response.ok) {\n        throw new Error('Logout Failed');\n      }\n\n      return response.json();\n    }).then(body => {\n      this.isAuthenticated = false;\n      return body;\n    });\n  }\n\n};\nexport default auth;","map":{"version":3,"sources":["/Users/Luna23/Documents/CUNY Tech Prep/master-project/ctp_project/client/src/services/auth.js"],"names":["auth","isAuthenticated","authenticate","email","password","fetch","method","body","JSON","stringify","headers","then","response","ok","Error","json","signout","cb"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AAEA,MAAMA,IAAI,GAAG;AACXC,EAAAA,eAAe,EAAE,KADN;;AAEXC,EAAAA,YAAY,CAACC,KAAD,EAAQC,QAAR,EAAkB;AAC5B,WAAOC,KAAK,CAAC,iBAAD,EAAoB;AAC9BC,MAAAA,MAAM,EAAE,MADsB;AAE9BC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEN,QAAAA,KAAF;AAASC,QAAAA;AAAT,OAAf,CAFwB;AAG9BM,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AAHqB,KAApB,CAAL,CAOJC,IAPI,CAOEC,QAAD,IAAc;AAClB,UAAG,CAACA,QAAQ,CAACC,EAAb,EAAiB;AACf,cAAM,IAAIC,KAAJ,CAAU,cAAV,CAAN;AACD;;AAED,aAAOF,QAAQ,CAACG,IAAT,EAAP;AACD,KAbI,EAcJJ,IAdI,CAcEJ,IAAD,IAAU;AACd,WAAKN,eAAL,GAAuB,IAAvB;AACA,aAAOM,IAAP;AACD,KAjBI,CAAP;AAkBD,GArBU;;AAsBXS,EAAAA,OAAO,CAACC,EAAD,EAAK;AACV,WAAOZ,KAAK,CAAC,kBAAD,EAAqB;AAC/BC,MAAAA,MAAM,EAAE,MADuB;AAE/BI,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AAFsB,KAArB,CAAL,CAMJC,IANI,CAMEC,QAAD,IAAc;AAClB,UAAG,CAACA,QAAQ,CAACC,EAAb,EAAiB;AACf,cAAM,IAAIC,KAAJ,CAAU,eAAV,CAAN;AACD;;AAED,aAAOF,QAAQ,CAACG,IAAT,EAAP;AACD,KAZI,EAaJJ,IAbI,CAaEJ,IAAD,IAAU;AACd,WAAKN,eAAL,GAAuB,KAAvB;AACA,aAAOM,IAAP;AACD,KAhBI,CAAP;AAiBD;;AAxCU,CAAb;AA2CA,eAAeP,IAAf","sourcesContent":["// This service object was adapted from here: \n//  https://tylermcginnis.com/react-router-protected-routes-authentication/\n//\n// This version was modified to use real authentication implemented\n// in the backend api. It was also modified to return promises instead\n// of using callbacks `cb`.\n\nconst auth = {\n  isAuthenticated: false,\n  authenticate(email, password) {\n    return fetch('/api/auth/login', { \n      method: 'POST',\n      body: JSON.stringify({ email, password }),\n      headers: {\n        'Content-Type': 'application/json',\n      }\n    })\n      .then((response) => {\n        if(!response.ok) {\n          throw new Error('Login Failed');\n        }\n\n        return response.json();\n      })\n      .then((body) => {\n        this.isAuthenticated = true;\n        return body;\n      });\n  },\n  signout(cb) {\n    return fetch('/api/auth/logout', { \n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      }\n    })\n      .then((response) => {\n        if(!response.ok) {\n          throw new Error('Logout Failed');\n        }\n\n        return response.json();\n      })\n      .then((body) => {\n        this.isAuthenticated = false;\n        return body;\n      });\n  }\n}\n\nexport default auth;"]},"metadata":{},"sourceType":"module"}