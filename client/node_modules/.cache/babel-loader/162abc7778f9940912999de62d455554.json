{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/Luna23/Documents/CUNY Tech Prep/master-project/ctp_project/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/Luna23/Documents/CUNY Tech Prep/master-project/ctp_project/client/src/components/Login.js\";\n\nfunction _templateObject2() {\n  const data = _taggedTemplateLiteral([\"\\n\\twidth: 10px;\\n\"]);\n\n  _templateObject2 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\\n\\tfont-size: 1rem;\\n\"]);\n\n  _templateObject = function () {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from 'react';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Card from 'react-bootstrap/Card';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Alert from 'react-bootstrap/Alert';\nimport Col from 'react-bootstrap/Col';\nimport styled from 'styled-components';\nimport earthImage from \"../assets/earth-globe.svg\";\nimport auth from '../services/auth';\nimport Signup from './Signup.js';\nimport { BrowserRouter, Redirect, Route } from 'react-router-dom';\nimport { Router } from 'react-router-dom';\nimport NoMatch from '../pages/NoMatch.js';\nconst FontSize = styled.header(_templateObject());\nconst ButtonWidth = styled.div(_templateObject2());\nexport default class Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      let _this$state = this.state,\n          email = _this$state.email,\n          password = _this$state.password;\n      auth.authenticate(email, password).then(user => {\n        if (user) {\n          this.setState({\n            isAuthenticated: true,\n            failed: false\n          });\n          this.findUserLogInStatus();\n          this.findUserJoin();\n        }\n      }).catch(err => {\n        if (err) {\n          console.log('This is err: ', err);\n          this.setState({\n            failed: true,\n            isAuthenticated: false\n          });\n        }\n      });\n      this.findUserLogInStatus();\n    };\n\n    this.handleSignOut = event => {\n      auth.signout(event).then(event => {\n        this.setState({\n          isAuthenticated: false\n        });\n        this.findUserLogInStatus();\n      });\n    };\n\n    this.handleInputChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.state = {\n      isAuthenticated: false,\n      failed: false,\n      email: '',\n      password: '',\n      signUpClicked: false,\n      joinClicked: false,\n      userJoined: this.props.userjoin\n    };\n  }\n\n  findUserLogInStatus() {\n    this.props.getUserStatus(this.state.isAuthenticated);\n  }\n\n  findUserClickStatus(clickStatus) {\n    this.props.getUserClick(clickStatus);\n    this.setState({\n      signUpClicked: true\n    });\n  }\n\n  findUserJoin() {\n    this.setState({\n      userJoined: false\n    });\n  }\n\n  render() {\n    let userJoinStatus = this.props.userjoin;\n    const _this$state2 = this.state,\n          isAuthenticated = _this$state2.isAuthenticated,\n          failed = _this$state2.failed;\n    const _this$state3 = this.state,\n          email = _this$state3.email,\n          password = _this$state3.password;\n    const signUpClicked = this.state.signUpClicked;\n    console.log(\"Checking for authentication\", auth.isAuthenticated);\n    console.log(\"Authentication update? \", isAuthenticated, \"Failed ? \", failed);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, console.log(\"this is user clicked \", signUpClicked), !this.state.isAuthenticated && !this.state.signUpClicked || this.props.userjoin ? React.createElement(Card, {\n      className: this.state.failed ? \"login-form-failed\" : \"login-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: 8,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(Card.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, \"Welcome to Global-Port\")), React.createElement(Col, {\n      sm: 4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"navbar-image\",\n      alt: \"Test\",\n      src: earthImage,\n      width: \"40px\",\n      height: \"40px\",\n      href: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    })))), React.createElement(Card.Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, \"Connect with fellow travelers and explore the world!\"), React.createElement(Form, {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      controlId: \"formBasicEmail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, \"Email address:\"), React.createElement(Form.Control, {\n      onChange: e => this.handleInputChange(e),\n      size: \"sm\",\n      type: \"email\",\n      name: \"email\",\n      placeholder: \"Enter email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }), React.createElement(Form.Text, {\n      className: \"text-muted\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, \"We'll never share your email with anyone else.\")), React.createElement(Form.Group, {\n      controlId: \"formBasicPassword\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, \"Password:\"), React.createElement(Form.Control, {\n      onChange: e => this.handleInputChange(e),\n      size: \"sm\",\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"Password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }), React.createElement(Form.Text, {\n      className: \"text-muted\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    })), React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"submit\",\n      variant: \"info\",\n      onClick: e => this.handleSubmit(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, React.createElement(FontSize, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, \"Log in\"))), React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"button\",\n      variant: \"info\",\n      onClick: () => this.findUserClickStatus(true),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, React.createElement(FontSize, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, \"Sign up\"))))), this.state.failed ? React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"alert alert-danger alert-button\",\n      role: \"alert\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, \"Log in Failed\")))) : null))) : null, this.state.isAuthenticated ? React.createElement(Button, {\n      className: \"signout\",\n      variant: \"info\",\n      type: \"submit\",\n      onClick: e => this.handleSignOut(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, \" Sign out \") : null);\n  }\n\n}","map":{"version":3,"sources":["/Users/Luna23/Documents/CUNY Tech Prep/master-project/ctp_project/client/src/components/Login.js"],"names":["React","Form","Button","Card","Container","Row","Alert","Col","styled","auth","Signup","BrowserRouter","Redirect","Route","Router","NoMatch","FontSize","header","ButtonWidth","div","Login","Component","constructor","props","handleSubmit","event","preventDefault","state","email","password","authenticate","then","user","setState","isAuthenticated","failed","findUserLogInStatus","findUserJoin","catch","err","console","log","handleSignOut","signout","handleInputChange","target","name","value","signUpClicked","joinClicked","userJoined","userjoin","getUserStatus","findUserClickStatus","clickStatus","getUserClick","render","userJoinStatus","earthImage","e"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Card from 'react-bootstrap/Card';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Alert from 'react-bootstrap/Alert';\nimport Col from 'react-bootstrap/Col';\nimport styled from 'styled-components';\nimport earthImage from '../assets/earth-globe.svg';\nimport auth from '../services/auth';\nimport Signup from './Signup.js';\nimport {BrowserRouter, Redirect, Route} from 'react-router-dom';\nimport {Router} from 'react-router-dom';\nimport NoMatch from '../pages/NoMatch.js';\n\n\n\n\nconst FontSize = styled.header`\n\tfont-size: 1rem;\n`;\n\nconst ButtonWidth = styled.div`\n\twidth: 10px;\n`;\n\n\nexport default class Login extends React.Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tisAuthenticated: false,\n      failed: false, \n      email: '',\n\t\t\tpassword: '',\n      signUpClicked: false,\n      joinClicked: false,\n      userJoined: this.props.userjoin\n\t\t}\n\t}\n\n  findUserLogInStatus() {\n    this.props.getUserStatus(this.state.isAuthenticated);\n  }\n\n  findUserClickStatus(clickStatus) {\n    this.props.getUserClick(clickStatus);\n    \n    this.setState({\n      signUpClicked: true\n    })\n  }\n\n  findUserJoin() {\n    this.setState({\n      userJoined: false\n    })\n  }\n\n  handleSubmit = (event) => {\n\n\n  \tevent.preventDefault();\n  \tlet { email, password } = this.state;\n    auth.authenticate(email, password)\n        .then((user) => {\n          if(user) {\n         \n          this.setState({ \n            isAuthenticated: true,\n            failed: false\n          });\n\n\n          this.findUserLogInStatus();\n          this.findUserJoin();\n\n          }\n          \n        })\n        .catch((err) => {\n          if(err) {\n          console.log('This is err: ' , err);\n          this.setState({ \n            failed: true,\n            isAuthenticated: false\n          });\n\n          }\n          \n        });\n\n        this.findUserLogInStatus();\n\n    }\n\n  handleSignOut = (event) => {\n    \n    auth.signout(event)\n    .then((event) => {\n        this.setState({\n        isAuthenticated: false\n      });\n\n      this.findUserLogInStatus();\n\n    })\n\n\n  }\n\n\n  handleInputChange = (event) => {\n  \tthis.setState({\n  \t\t\t[event.target.name]: event.target.value\n  \t})\n\n  }\n\n\n\n\nrender() {\n\n  let userJoinStatus = this.props.userjoin;\n\n  const { isAuthenticated, failed } = this.state;\n\tconst { email, password } = this.state;\n  const { signUpClicked } = this.state;\n\n  console.log(\"Checking for authentication\", auth.isAuthenticated);\n\n  console.log(\"Authentication update? \", isAuthenticated, \"Failed ? \", failed);\n\t\n  return(\n\t\t<div>\n\n    {console.log(\"this is user clicked \", signUpClicked)}\n\t\t{/* Card style is in App.css*/}\n\n      {!this.state.isAuthenticated && !this.state.signUpClicked || this.props.userjoin ? (\n        <Card className={this.state.failed ? \"login-form-failed\" : \"login-form\"} >\n          <Card.Body>\n          <Container>\n            <Row>\n                <Col sm={8}>\n                <Card.Title>Welcome to Global-Port</Card.Title>\n                </Col>\n                <Col sm={4}>\n                    <img className=\"navbar-image\"\n                    alt=\"Test\"\n                    src={earthImage}\n                    width=\"40px\"\n                    height=\"40px\"\n                    href=\"/\"\n                />\n                </Col>\n\n              </Row>\n            </Container>\n            <Card.Text>\n              Connect with fellow travelers and explore the world!\n            </Card.Text>\n              <Form onSubmit={this.handleSubmit}>\n                <Form.Group controlId=\"formBasicEmail\">\n                  <Form.Label>Email address:</Form.Label>\n                  <Form.Control\n                    onChange={(e) => this.handleInputChange(e)} \n                    size=\"sm\"\n                    type=\"email\" \n                    name=\"email\"\n                    placeholder=\"Enter email\"\n                   />\n                  <Form.Text className=\"text-muted\">\n                    We'll never share your email with anyone else.\n                  </Form.Text>\n                </Form.Group>\n\n                <Form.Group controlId=\"formBasicPassword\">\n                  <Form.Label>Password:</Form.Label>\n                  <Form.Control \n                    onChange={(e) => this.handleInputChange(e)}\n                    size=\"sm\"\n                    type=\"password\" \n                    name=\"password\"\n                    placeholder=\"Password\" />\n                  <Form.Text className=\"text-muted\">\n                  </Form.Text>\n                </Form.Group>\n\n                <Container>\n                \t<Row>\n\t                \t<Col> \n                    <Button \n                    type=\"submit\" \n                    variant=\"info\"\n                    onClick={(e) => this.handleSubmit(e)}>\n                    <FontSize>Log in</FontSize>\n                    </Button>\n                    </Col>\n\n\t    \t\t\t\t       \n                    <Col> \n                    <Button \n                    type=\"button\" \n                    variant=\"info\"\n                    onClick={() => this.findUserClickStatus(true)}>\n                    <FontSize>Sign up</FontSize>\n                    </Button>\n                    </Col>\n            \n            \n                \t</Row>\n                </Container>\n\n                {this.state.failed ? \n                  <Container>\n                    <Row>\n                      <Col>\n                        <div className=\"alert alert-danger alert-button\" role=\"alert\">Log in Failed</div>\n                      </Col>\n                    </Row>\n                  </Container>\n                  : null\n\n\n                }\n\n              </Form>\n          </Card.Body>\n\n        </Card> ) : (\n        \n          null\n\n      )} \n\n        {this.state.isAuthenticated ? \n          <Button className=\"signout\" variant=\"info\" type=\"submit\" onClick={(e) => this.handleSignOut(e)}> Sign out </Button>\n          : null}\n\n          \n\t\t</div>\n\t\t);\n\t}\n}"]},"metadata":{},"sourceType":"module"}