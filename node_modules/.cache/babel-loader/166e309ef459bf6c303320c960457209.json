{"ast":null,"code":"import _defineProperty from \"/Users/Luna23/Documents/CUNY Tech Prep/project/ctp_project/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/Luna23/Documents/CUNY Tech Prep/project/ctp_project/src/components/Map.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport L from 'leaflet';\nimport { Map, TileLayer, Marker, Popup } from 'react-leaflet';\nimport Card from 'react-bootstrap/Card';\nimport Form from 'react-bootstrap/form';\nimport Button from 'react-bootstrap/Button'; //creates icon used for marker/pin image\n\nconst myIcon = L.icon({\n  iconUrl: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=',\n  iconSize: [25, 41],\n  iconAnchor: [12.5, 41],\n  popupAnchor: [0, -41]\n});\nexport default class MapComponent extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.formSubmitted = event => {\n      event.preventDefault();\n      console.log(this.state.userMessage);\n    };\n\n    this.valueChanged = event => {\n      event.persist(); // const { name, value } = event.target;\n\n      this.setState(prevState => ({\n        userMessage: _objectSpread({}, prevState.userMessage, {\n          [event.target.name]: event.target.value\n        })\n      }));\n    };\n\n    this.state = {\n      location: {\n        lat: 51.505,\n        lng: -0.09\n      },\n      haveUsersLocation: false,\n      zoom: 2,\n      userMessage: {\n        email: '',\n        password: '',\n        message: ''\n      }\n    };\n  } //Asks for users location when map renders, then places a pin based on the position\n  //coordinates\n\n\n  componentDidMount() {\n    //browser method grabs user location coordinates with permission\n    navigator.geolocation.getCurrentPosition(position => {\n      this.setState({\n        location: {\n          lat: position.coords.latitude,\n          lng: position.coords.longitude\n        },\n        haveUsersLocation: true,\n        zoom: 13\n      });\n    }, //if above method fails we use the api call below to find user's location\n    () => {\n      console.log(\"Did not receive location\");\n      fetch('https://ipapi.co/json').then(res => res.json()).then(location => {\n        console.log(location);\n        this.setState({\n          location: {\n            lat: location.latitude,\n            lng: location.longitude\n          },\n          haveUsersLocation: true,\n          zoom: 13\n        });\n      });\n    });\n  }\n\n  /*valueChanged = (event) => {\n  event.persist();\n  const {email, password, message } = event.target;\n  this.setState((prevState) => ({\n    userMessage: {\n      ...prevState.userMessage,\n      [event.target.name]: event.target.value\n    }\n  }))\n  }*/\n\n  /*valueChanged = (event) => {\n    const { name, value } = event.target;\n    this.setState((prevState) => ({\n      userMessage: {\n        ...prevState.userMessage,\n      [name]: value\n    }\n  }))\n  }*/\n  render() {\n    //sets initial map position\n    const position = [this.state.location.lat, this.state.location.lng];\n    const _this$state$userMessa = this.state.userMessage,\n          email = _this$state$userMessa.email,\n          password = _this$state$userMessa.password,\n          message = _this$state$userMessa.message;\n    return React.createElement(\"div\", {\n      className: \"map\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(Map, {\n      className: \"map\",\n      center: position,\n      zoom: this.state.zoom,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(TileLayer, {\n      attribution: \"&copy <a href=\\\"http://osm.org/copyright\\\">OpenStreetMap</a> contributors\",\n      url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }), this.state.haveUsersLocation ? React.createElement(Marker, {\n      position: position,\n      icon: myIcon,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(Popup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, \"A pretty CSS3 popup. \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }), \" Easily customizable.\")) : ''), React.createElement(Card, {\n      className: \"message-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(Card.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \"Welcome to Global-Port\"), React.createElement(Card.Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"Connect with fellow travelers and explore the world!\"), React.createElement(Form, {\n      onSubmit: this.formSubmitted,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      controlId: \"formBasicEmail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, \"Email address\"), React.createElement(Form.Control, {\n      onChange: e => this.valueChanged(e),\n      size: \"sm\",\n      type: \"email\",\n      name: \"email\",\n      placeholder: \"Enter email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }), React.createElement(Form.Text, {\n      className: \"text-muted\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"We'll never share your email with anyone else. this is email: \", email)), React.createElement(Form.Group, {\n      controlId: \"formBasicPassword\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, \"Password\"), React.createElement(Form.Control, {\n      onChange: e => this.valueChanged(e),\n      size: \"sm\",\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"Password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }), React.createElement(Form.Text, {\n      className: \"text-muted\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, \"pass: \", password)), React.createElement(Form.Group, {\n      controlId: \"exampleForm.ControlTextarea1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, \"Message\"), React.createElement(Form.Control, {\n      onChange: e => this.valueChanged(e),\n      size: \"sm\",\n      type: \"textarea\",\n      name: \"message\",\n      as: \"textarea\",\n      rows: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }), React.createElement(Form.Text, {\n      className: \"text-muted\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, \"mess: \", message)), React.createElement(Button, {\n      type: \"submit\",\n      variant: \"info\",\n      disabled: !this.state.haveUsersLocation,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, \"Log in\")))));\n  }\n\n}","map":{"version":3,"sources":["/Users/Luna23/Documents/CUNY Tech Prep/project/ctp_project/src/components/Map.js"],"names":["React","L","Map","TileLayer","Marker","Popup","Card","Form","Button","myIcon","icon","iconUrl","iconSize","iconAnchor","popupAnchor","MapComponent","Component","constructor","props","formSubmitted","event","preventDefault","console","log","state","userMessage","valueChanged","persist","setState","prevState","target","name","value","location","lat","lng","haveUsersLocation","zoom","email","password","message","componentDidMount","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","fetch","then","res","json","render","e"],"mappings":"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","sourcesContent":["import React from 'react';\nimport L from 'leaflet';\nimport { Map, TileLayer, Marker, Popup } from 'react-leaflet';\nimport Card from 'react-bootstrap/Card';\nimport Form from 'react-bootstrap/form';\nimport Button from 'react-bootstrap/Button';\n\n//creates icon used for marker/pin image\nconst myIcon = L.icon({\n  iconUrl: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=',\n  iconSize: [25, 41],\n  iconAnchor: [12.5, 41],\n  popupAnchor: [0, -41],\n})\n\nexport default class MapComponent extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        location: {\n          lat: 51.505,\n          lng: -0.09,\n        },\n        haveUsersLocation: false,\n        zoom: 2,\n        userMessage: {\n          email: '',\n          password: '',\n          message: ''\n        }\n      }\n    }\n    //Asks for users location when map renders, then places a pin based on the position\n    //coordinates\n    componentDidMount() {\n      //browser method grabs user location coordinates with permission\n      navigator.geolocation.getCurrentPosition((position) => {\n        \n        this.setState({\n          location: {\n            lat: position.coords.latitude,\n            lng: position.coords.longitude\n          },\n            haveUsersLocation: true,\n            zoom: 13\n        });\n\n      }, \n      //if above method fails we use the api call below to find user's location\n      () => {\n        console.log(\"Did not receive location\");\n        fetch('https://ipapi.co/json')\n          .then(res => res.json())\n          .then(location => {\n            console.log(location);\n\n            this.setState({\n              location: {\n                lat: location.latitude,\n                lng: location.longitude\n              },\n                haveUsersLocation: true,\n                zoom: 13\n            });\n          });\n      });\n    }\n\n    formSubmitted = (event) => {\n      event.preventDefault();\n      console.log(this.state.userMessage);\n    }\n\n    valueChanged = (event) => {\n      event.persist();\n     // const { name, value } = event.target;\n      this.setState((prevState) => ({\n        userMessage: {\n          ...prevState.userMessage,\n          [event.target.name]: event.target.value\n        }\n      }))\n    }\n\n      /*valueChanged = (event) => {\n      event.persist();\n      const {email, password, message } = event.target;\n      this.setState((prevState) => ({\n        userMessage: {\n          ...prevState.userMessage,\n          [event.target.name]: event.target.value\n        }\n      }))\n    }*/\n\n    /*valueChanged = (event) => {\n      const { name, value } = event.target;\n      this.setState((prevState) => ({\n        userMessage: {\n          ...prevState.userMessage,\n        [name]: value\n      }\n    }))\n  }*/\n\n    render() {\n    //sets initial map position\n    const position = [this.state.location.lat, this.state.location.lng];\n    const { email, password, message } = this.state.userMessage;\n    return (\n      <div className=\"map\">\n        <Map className=\"map\" center={position} zoom={this.state.zoom}>\n          <TileLayer\n            attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          />\n        {/* ternary operator ? If we have users location we render a marker and it on the map : If not\n        they'll see our default map position */}\n          {this.state.haveUsersLocation ? \n           <Marker position={position} icon={myIcon}>\n            <Popup>\n              A pretty CSS3 popup. <br /> Easily customizable.\n            </Popup>\n          </Marker> : ''\n           }\n         \n        </Map>\n\n        <Card className=\"message-form\">\n          <Card.Body>\n            <Card.Title>Welcome to Global-Port</Card.Title>\n            <Card.Text>\n              Connect with fellow travelers and explore the world!\n            </Card.Text>\n              <Form onSubmit={this.formSubmitted}>\n                <Form.Group controlId=\"formBasicEmail\">\n                  <Form.Label>Email address</Form.Label>\n                  <Form.Control\n                    onChange={(e) => this.valueChanged(e)} \n                    size=\"sm\"\n                    type=\"email\" \n                    name=\"email\"\n                    placeholder=\"Enter email\"\n                   />\n                  <Form.Text className=\"text-muted\">\n                    We'll never share your email with anyone else.\n                    this is email: {email}\n                  </Form.Text>\n                </Form.Group>\n\n                <Form.Group controlId=\"formBasicPassword\">\n                  <Form.Label>Password</Form.Label>\n                  <Form.Control \n                    onChange={(e) => this.valueChanged(e)}\n                    size=\"sm\"\n                    type=\"password\" \n                    name=\"password\"\n                    placeholder=\"Password\" />\n                  <Form.Text className=\"text-muted\">\n                    pass: {password}\n                  </Form.Text>\n                </Form.Group>\n\n                <Form.Group controlId=\"exampleForm.ControlTextarea1\">\n                  <Form.Label>Message</Form.Label>\n                  <Form.Control \n                    onChange={(e) => this.valueChanged(e)}\n                    size=\"sm\"\n                    type=\"textarea\"\n                    name=\"message\"\n                    as=\"textarea\" \n                    rows=\"3\" />\n                  <Form.Text className=\"text-muted\">\n                    mess: {message}\n                  </Form.Text>\n                </Form.Group>\n\n                <Button type=\"submit\" variant=\"info\" disabled={!this.state.haveUsersLocation}>Log in</Button>\n             \n              </Form>\n            \n          </Card.Body>\n        </Card>\n      </div>\n    );\n  }\n} \n\n"]},"metadata":{},"sourceType":"module"}